<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hooks - WHMCS Developer Documentation</title>
    <meta name="generator" content="Hugo 0.18.1" />

    
    <meta name="description" content="WHMCS developer documentation - themes, modules, hooks, oauth, api and more...">
    
    <link rel="canonical" href="//developers.whmcs.com/hooks/">
    
    <meta name="author" content="WHMCS Development Team">
    

    <link rel="stylesheet" href="//developers.whmcs.com/css/bootstrap.min.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/styles.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/font-awesome.min.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/prism.css">

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700">

    
    <link href="//developers.whmcs.com/hooks/index.xml" rel="alternate" type="application/rss+xml" title="WHMCS Developer Documentation" />
    <link href="//developers.whmcs.com/hooks/index.xml" rel="feed" type="application/rss+xml" title="WHMCS Developer Documentation" />
    

  </head>
  <body class="language-php">

<header class="header">





<div class="container">
<nav class="navbar navbar-whmcs">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#primary-nav" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://www.whmcs.com/"><img src="//developers.whmcs.com/img/logo.png" width="148" height="34"></a>
    </div>

    <div class="collapse navbar-collapse" id="primary-nav">
      <ul class="nav navbar-nav">
        <li><a href="//developers.whmcs.com/"><span class="hidden-sm">Developer Documentation</span><span class="visible-sm">Developer Docs</span></a></li>
        <li class="visible-xs"><a href="//developers.whmcs.com/">Home</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/themes/">Themes</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/languages/">Languages</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/modules/">Modules</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/oauth/">OAuth</a></li>
            <li class="visible-xs active"><a href="//developers.whmcs.com/hooks/">Hooks</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/api/">API</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/advanced/">Advanced</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="//developers.whmcs.com/api-reference/">API Reference</a></li>
        <li><a href="//developers.whmcs.com/hooks-reference/">Hook Reference</a></li>
        <li><a href="https://github.com/whmcs" target="_blank"><i class="fa fa-github"></i></a></li>
      </ul>
      <form class="navbar-form navbar-right visible-xs" id="docsSearchMobile">
        <div class="input-group">
          <input type="text" id="docsQueryMobile" class="form-control" placeholder="Search">
          <span class="input-group-btn">
            <button class="btn" type="submit" id="btnSearchDocsMobile"><i class="fa fa-search"></i></button>
          </span>
        </div>
      </form>
    </div>
  </div>
</nav>
</div>

<div class="headline-bar hidden-xs">
<nav class="navbar navbar-main-nav">
  <div class="container">
    <div class="collapse navbar-collapse" id="secondary-nav">
      <ul class="nav navbar-nav">
        <li><a href="//developers.whmcs.com/">Home</a></li>
            <li><a href="//developers.whmcs.com/themes/">Themes</a></li>
            <li><a href="//developers.whmcs.com/languages/">Languages</a></li>
            <li><a href="//developers.whmcs.com/modules/">Modules</a></li>
            <li><a href="//developers.whmcs.com/oauth/">OAuth</a></li>
            <li class="active"><a href="//developers.whmcs.com/hooks/">Hooks</a></li>
            <li><a href="//developers.whmcs.com/api/">API</a></li>
            <li><a href="//developers.whmcs.com/advanced/">Advanced</a></li>
      </ul>
      <form class="navbar-form navbar-right" id="docsSearch">
        <div class="input-group">
          <input type="text" id="docsQuery" class="form-control" placeholder="Search">
          <span class="input-group-btn">
            <button class="btn" type="submit" id="btnSearchDocs"><i class="fa fa-search"></i></button>
          </span>
        </div>
      </form>
    </div>
  </div>
</nav>
</div>

</header>


<main class="main">

  <div class="container">
    <div class="row">
      <div class="col-sm-3">

        
          <ul class="sidebar-nav">
          </ul>
        

      </div>
      <div class="col-sm-9">

			<h1>Pages in Hook</h1>

			
			<a href="//developers.whmcs.com/hooks/" title="Hooks">
				<h2>Hooks</h2>
			</a>

			<br>
			Introduction Hooks allow you to execute your own code when events occur inside WHMCS.
 Getting Started
Learn how to create a hook in WHMCS Defining Priority
Priorities allow you to define in which order hooks execute Module Hooks
Learn how modules can take advantage of hooks Sample Hook
View sample code for creating a hook Hook Index
A complete listing of all available hook points Hook Reference
Visit the Hook Reference Manual

			<hr>
			
			<a href="//developers.whmcs.com/hooks/getting-started/" title="Getting Started">
				<h2>Getting Started</h2>
			</a>

			<br>
			The following steps demonstrate how to create a hook function in WHMCS.
Create your Hook File Hooks live inside files located within the /includes/hooks/ directory (or as part of a module - see module hooks).
Begin by creating a file named helloworld.php:
touch ~/includes/hooks/helloworld.php  Add your Hook Function Hook functions can be either named functions or closures.
Below is an example hook that will execute whenever the ClientAdd event occurs.

			<hr>
			
			<a href="//developers.whmcs.com/hooks/priority/" title="Defining Priority">
				<h2>Defining Priority</h2>
			</a>

			<br>
			Every hook function must be registered with a priority.
The priority defines the order in which hooks should run when multiple hooks are registered for the same hook point.
The priority can be any valid integer value.

			<hr>
			
			<a href="//developers.whmcs.com/hooks/module-hooks/" title="Module Hooks">
				<h2>Module Hooks</h2>
			</a>

			<br>
			Module hooks follow all the same principles as regular hooks.
Defining Hooks within a Module To provide hooks as part of a module, create a file named hooks.php in the root of your module directory.
This hooks file will be detected and loaded by WHMCS on every page load.
Hook files are only detected at the time a module is activated and configured. If you add your hook file after the module has already been activated, you may need to deactivate and reactivate your module in order for WHMCS to recognise it.

			<hr>
			
			<a href="//developers.whmcs.com/hooks/sample-hook/" title="Sample Hook">
				<h2>Sample Hook</h2>
			</a>

			<br>
			/includes/hooks/samplehook.php
&lt;?php /** * Register hook function call. * * @param string $hookPoint The hook point to call * @param integer $priority The priority for the given hook function * @param string|function Function name to call or anonymous function. * * @return Depends on hook function point. */ add_hook(&lsquo;ClientAdd&rsquo;, 1, function ($vars) { $userid = $vars[&lsquo;userid&rsquo;]; $firstname = $vars[&lsquo;firstname&rsquo;]; $lastname = $vars[&lsquo;lastname&rsquo;]; $email = $vars[&lsquo;email&rsquo;]; $password = $vars[&lsquo;password&rsquo;]; // Run code to create remote forum account here.

			<hr>
			
			<a href="//developers.whmcs.com/hooks/hook-index/" title="Hook Index">
				<h2>Hook Index</h2>
			</a>

			<br>
			Invoices and Quotes  AcceptQuote  AddInvoiceLateFee  AddInvoicePayment  AddTransaction  AfterInvoicingGenerateInvoiceItems  InvoiceCancelled  InvoiceChangeGateway  InvoiceCreated  InvoiceCreation  InvoiceCreationPreEmail  InvoicePaid  InvoicePaidPreEmail  InvoiceRefunded  InvoiceSplit  InvoiceUnpaid  LogTransaction  ManualRefund  PreInvoicingGenerateInvoiceItems  QuoteCreated  QuoteStatusChange  UpdateInvoiceTotal  ViewInvoiceDetailsPage  Shopping Cart  AcceptOrder  AddonFraud  AfterFraudCheck  AfterShoppingCartCheckout  CancelOrder  CartTotalAdjustment  DeleteOrder  FraudOrder  OrderAddonPricingOverride  OrderProductPricingOverride  OrderProductUpgradeOverride  OverrideOrderNumberGeneration  PendingOrder  PreCalculateCartTotals  PreShoppingCartCheckout  RunFraudCheck  ShoppingCartCheckoutCompletePage  ViewOrderDetailsPage  Service  CancellationRequest  PreServiceEdit  ServiceDelete  ServiceEdit  ServiceRecurringCompleted  Module  AfterModuleChangePackage  AfterModuleChangePackageFailed  AfterModuleChangePassword  AfterModuleChangePasswordFailed  AfterModuleCreate  AfterModuleCreateFailed  AfterModuleSuspend  AfterModuleSuspendFailed  AfterModuleTerminate  AfterModuleTerminateFailed  AfterModuleUnsuspend  AfterModuleUnsuspendFailed  OverrideModuleUsernameGeneration  PreModuleChangePackage  PreModuleChangePassword  PreModuleCreate  PreModuleSuspend  PreModuleTerminate  PreModuleUnsuspend  Domain  DomainDelete  DomainEdit  DomainValidation  PreDomainRegister  PreDomainTransfer  PreRegistrarRegisterDomain  PreRegistrarRenewDomain  PreRegistrarTransferDomain  Registrar Module  AfterRegistrarGetContactDetails  AfterRegistrarGetDNS  AfterRegistrarGetEPPCode  AfterRegistrarGetNameservers  AfterRegistrarRegister  AfterRegistrarRegistration  AfterRegistrarRegistrationFailed  AfterRegistrarRenew  AfterRegistrarRenewal  AfterRegistrarRenewalFailed  AfterRegistrarRequestDelete  AfterRegistrarSaveContactDetails  AfterRegistrarSaveDNS  AfterRegistrarSaveNameservers  AfterRegistrarTransfer  AfterRegistrarTransfer  AfterRegistrarTransferFailed  PreRegistrarGetContactDetails  PreRegistrarGetDNS  PreRegistrarGetEPPCode  PreRegistrarGetNameservers  PreRegistrarRequestDelete  PreRegistrarSaveContactDetails  PreRegistrarSaveDNS  PreRegistrarSaveNameservers  Addon  AddonActivated  AddonActivation  AddonAdd  AddonCancelled  AddonConfig  AddonConfigSave  AddonDeleted  AddonEdit  AddonSuspended  AddonTerminated  AddonUnsuspended  LicensingAddonReissue  LicensingAddonVerify  Client  AfterClientMerge  ClientAlert  ClientChangePassword  ClientClose  ClientDelete  ClientEdit  ClientEmailVerificationComplete  PreDeleteClient  Contact  ContactAdd  ContactChangePassword  ContactEdit  Products and Services  AfterProductUpgrade  ProductDelete  ProductEdit  ServerAdd  ServerDelete  ServerEdit  Ticket  AdminAreaViewTicketPage  ClientAreaPageSubmitTicket  ClientAreaPageSupportTickets  ClientAreaPageViewTicket  SubmitTicketAnswerSuggestions  TicketAdminReply  TicketClose  TicketDelete  TicketDeleteReply  TicketDepartmentChange  TicketOpen  TicketOpenAdmin  TicketPiping  TicketStatusChange  TicketUserReply  TransliterateTicketText  Support Tools  AnnouncementAdd  AnnouncementEdit  FileDownload  NetworkIssueAdd  NetworkIssueClose  NetworkIssueDelete  NetworkIssueEdit  NetworkIssueReopen  Authentication  ClientLogin  ClientLoginShare  ClientLogout  Client Area Interface  ClientAreaDomainDetails  ClientAreaHomepage  ClientAreaHomepagePanels  ClientAreaNavbars  ClientAreaPage  ClientAreaPageAddContact  ClientAreaPageAddFunds  ClientAreaPageAffiliates  ClientAreaPageAnnouncements  ClientAreaPageBanned  ClientAreaPageBulkDomainManagement  ClientAreaPageCancellation  ClientAreaPageCart  ClientAreaPageChangePassword  ClientAreaPageConfigureSSL  ClientAreaPageContact  ClientAreaPageContacts  ClientAreaPageCreditCard  ClientAreaPageCreditCardCheckout  ClientAreaPageDomainAddons  ClientAreaPageDomainChecker  ClientAreaPageDomainContacts  ClientAreaPageDomainDNSManagement  ClientAreaPageDomainDetails  ClientAreaPageDomainEPPCode  ClientAreaPageDomainEmailForwarding  ClientAreaPageDomainRegisterNameservers  ClientAreaPageDomains  ClientAreaPageDownloads  ClientAreaPageEmails  ClientAreaPageHome  ClientAreaPageInvoices  ClientAreaPageKnowledgebase  ClientAreaPageLogin  ClientAreaPageLogout  ClientAreaPageMassPay  ClientAreaPageNetworkIssues  ClientAreaPagePasswordReset  ClientAreaPageProductDetails  ClientAreaPageProductsServices  ClientAreaPageProfile  ClientAreaPageQuotes  ClientAreaPageRegister  ClientAreaPageSecurity  ClientAreaPageServerStatus  ClientAreaPageUnsubscribe  ClientAreaPageUpgrade  ClientAreaPageViewEmail  ClientAreaPageViewInvoice  ClientAreaPageViewQuote  ClientAreaPageViewWHOIS  ClientAreaPrimaryNavbar  ClientAreaPrimarySidebar  ClientAreaProductDetails  ClientAreaProductDetailsPreModuleTemplate  ClientAreaRegister  ClientAreaSecondaryNavbar  ClientAreaSecondarySidebar  ClientAreaSidebars  Admin Area  AdminAreaClientSummaryActionLinks  AdminAreaClientSummaryPage  AdminAreaPage  AdminAreaViewQuotePage  AdminClientDomainsTabFields  AdminClientDomainsTabFieldsSave  AdminClientFileUpload  AdminClientProfileTabFields  AdminClientProfileTabFieldsSave  AdminClientServicesTabFields  AdminClientServicesTabFieldsSave  AdminHomepage  AdminLogin  AdminLogout  AdminProductConfigFields  AdminProductConfigFieldsSave  AdminServiceEdit  InvoiceCreationAdminArea  PreAdminServiceEdit  Output  AdminAreaFooterOutput  AdminAreaHeadOutput  AdminAreaHeaderOutput  AdminInvoicesControlsOutput  ClientAreaDomainDetailsOutput  ClientAreaFooterOutput  ClientAreaHeadOutput  ClientAreaHeaderOutput  ClientAreaProductDetailsOutput  ReportViewPostOutput  ReportViewPreOutput  Cron  AfterCronJob  DailyCronJob  DailyCronJobPreEmail  PreCronJob  Everything Else  AffiliateActivation  AffiliateClickthru  AffiliateCommission  AffiliateWithdrawalRequest  AfterConfigOptionsUpgrade  CCUpdate  CalcAffiliateCommission  CustomFieldLoad  CustomFieldSave  EmailPreLog  EmailPreSend  EmailTplMergeFields  FetchCurrencyExchangeRates  IntelligentSearch  LinkTracker  LogActivity  PreAutomationTask

			<hr>
			

			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

      </div>
    </div>
  </div>

</main>


<footer class="footer">
    <div class="container">
        <div class="row">
            <nav>
                <div class="col-sm-3">
                    <h3>Learn</h3>
                    <ul>
                        <li><a href="//developers.whmcs.com/about/">About WHMCS</a></li>
                        <li><a href="//developers.whmcs.com/quick-start/">Quick start</a></li>
                        <li><a href="//developers.whmcs.com/api-reference/">API Reference</a></li>
                        <li><a href="//docs.whmcs.com/classes/">Classes Reference</a></li>
                        <li><a href="//developers.whmcs.com/about/faq/">FAQ</a></li>
                    </ul>
                </div>
                <div class="col-sm-4">
                    <h3>Contribute</h3>
                    <ul>
                        <li><a href="//developers.whmcs.com/about/contribute/">Contribute</a></li>
                        <li><a href="https://github.com/whmcs/" target="_blank">Github</a></li>
                    </ul>
                </div>
                <div class="col-sm-5">
                    <h3>Stay up to date</h3>
                    <div class="subscribe-form">
                        <p class="muted subscribe-lead">Join our developers mailing list to be kept up-to-date.</p>
                        <div class="alert alert-success sub-success-message hidden" role="alert">
                            <strong>Thank You!</strong> You have been subscribed.
                        </div>
                        <div class="alert alert-danger sub-error-message hidden" role="alert">
                            <strong>Sorry</strong> <span id="error-message-text"></span>
                        </div>
                        <form action="//www.whmcs.com/members/subscribe.php" method="post" id="frmSubscribe">
                            <input type="hidden" name="name" value="Subscriber">
                            <input type="hidden" name="developer" value="dev">
                            <div class="input-group">
                                <input type="email" name="email" class="form-control" placeholder="you@yourdomain.com">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-info">
                                        SUBSCRIBE
                                    </button>
                                </span>
                            </div>
                        </form>
                    </div>
                    <p>
                        We won't spam you.
                    </p>
                </div>
            </nav>
        </div>
        <div class="row">
            <div class="col-md-7">
                <p>Found an error or a typo in these docs? <a href="https://github.com/WHMCS/developer-docs/issues">Submit an issue or a pull request</a></p>
            </div>
            <div class="col-md-5">
                <p class="pull-right">
                    Copyright &copy; WHMCS 2017. All rights reserved.
                    <br>
                </p>
            </div>
        </div>
    </div>
</footer>

<div style="width:0px;overflow:hidden;height:0px;">
    <gcse:search noResultsString="No matches found. Please try a different search term or try contacting our support team."></gcse:search>
</div>

<script src="//developers.whmcs.com/js/jquery.min.js"></script>
<script src="//developers.whmcs.com/js/bootstrap.min.js"></script>
<script src="//developers.whmcs.com/js/search.js"></script>
<script src="//developers.whmcs.com/js/prism.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-22019969-15', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>

