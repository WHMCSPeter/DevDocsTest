<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advanceds - WHMCS Developer Documentation</title>
    <meta name="generator" content="Hugo 0.18.1" />

    
    <meta name="description" content="WHMCS developer documentation - themes, modules, hooks, oauth, api and more...">
    
    <link rel="canonical" href="//developers.whmcs.com/advanced/">
    
    <meta name="author" content="WHMCS Development Team">
    

    <link rel="stylesheet" href="//developers.whmcs.com/css/bootstrap.min.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/styles.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/font-awesome.min.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/prism.css">

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700">

    
    <link href="//developers.whmcs.com/advanced/index.xml" rel="alternate" type="application/rss+xml" title="WHMCS Developer Documentation" />
    <link href="//developers.whmcs.com/advanced/index.xml" rel="feed" type="application/rss+xml" title="WHMCS Developer Documentation" />
    

  </head>
  <body class="language-php">

<header class="header">





<div class="container">
<nav class="navbar navbar-whmcs">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#primary-nav" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://www.whmcs.com/"><img src="//developers.whmcs.com/img/logo.png" width="148" height="34"></a>
    </div>

    <div class="collapse navbar-collapse" id="primary-nav">
      <ul class="nav navbar-nav">
        <li><a href="//developers.whmcs.com/"><span class="hidden-sm">Developer Documentation</span><span class="visible-sm">Developer Docs</span></a></li>
        <li class="visible-xs"><a href="//developers.whmcs.com/">Home</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/themes/">Themes</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/languages/">Languages</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/modules/">Modules</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/oauth/">OAuth</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/hooks/">Hooks</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/api/">API</a></li>
            <li class="visible-xs active"><a href="//developers.whmcs.com/advanced/">Advanced</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="//developers.whmcs.com/api-reference/">API Reference</a></li>
        <li><a href="//developers.whmcs.com/hooks-reference/">Hook Reference</a></li>
        <li><a href="https://github.com/whmcs" target="_blank"><i class="fa fa-github"></i></a></li>
      </ul>
      <form class="navbar-form navbar-right visible-xs" id="docsSearchMobile">
        <div class="input-group">
          <input type="text" id="docsQueryMobile" class="form-control" placeholder="Search">
          <span class="input-group-btn">
            <button class="btn" type="submit" id="btnSearchDocsMobile"><i class="fa fa-search"></i></button>
          </span>
        </div>
      </form>
    </div>
  </div>
</nav>
</div>

<div class="headline-bar hidden-xs">
<nav class="navbar navbar-main-nav">
  <div class="container">
    <div class="collapse navbar-collapse" id="secondary-nav">
      <ul class="nav navbar-nav">
        <li><a href="//developers.whmcs.com/">Home</a></li>
            <li><a href="//developers.whmcs.com/themes/">Themes</a></li>
            <li><a href="//developers.whmcs.com/languages/">Languages</a></li>
            <li><a href="//developers.whmcs.com/modules/">Modules</a></li>
            <li><a href="//developers.whmcs.com/oauth/">OAuth</a></li>
            <li><a href="//developers.whmcs.com/hooks/">Hooks</a></li>
            <li><a href="//developers.whmcs.com/api/">API</a></li>
            <li class="active"><a href="//developers.whmcs.com/advanced/">Advanced</a></li>
      </ul>
      <form class="navbar-form navbar-right" id="docsSearch">
        <div class="input-group">
          <input type="text" id="docsQuery" class="form-control" placeholder="Search">
          <span class="input-group-btn">
            <button class="btn" type="submit" id="btnSearchDocs"><i class="fa fa-search"></i></button>
          </span>
        </div>
      </form>
    </div>
  </div>
</nav>
</div>

</header>


<main class="main">

  <div class="container">
    <div class="row">
      <div class="col-sm-3">

        
          <ul class="sidebar-nav">
          </ul>
        

      </div>
      <div class="col-sm-9">

			<h1>Pages in Advanced</h1>

			
			<a href="//developers.whmcs.com/advanced/" title="Advanced">
				<h2>Advanced</h2>
			</a>

			<br>
			Introduction The following are some advanced customisation options.
 Creating Pages
Learn how to create additional pages within the WHMCS client area Interacting with the Database
Learn how to interact with the WHMCS database Date Functions
Learn how to use the date helper functions in WHMCS Currency Formatting
Learn how to use the currency formatting helper functions in WHMCS Logging
Learn how to use the logging helper functions in WHMCS

			<hr>
			
			<a href="//developers.whmcs.com/advanced/creating-pages/" title="Creating Pages">
				<h2>Creating Pages</h2>
			</a>

			<br>
			Creating your own client area pages should orindarily be done by creating an Addon Module with client area output.
However, if you wish to, you can create a standalone page using the following template.
&lt;?php use WHMCS\ClientArea; use WHMCS\Database\Capsule; define(&lsquo;CLIENTAREA&rsquo;, true); require <strong>DIR</strong> . &lsquo;/init.php&rsquo;; $ca = new ClientArea(); $ca-&gt;setPageTitle(&lsquo;Your Page Title Goes Here&rsquo;); $ca-&gt;addToBreadCrumb(&lsquo;index.php&rsquo;, Lang::trans(&lsquo;globalsystemname&rsquo;)); $ca-&gt;addToBreadCrumb(&lsquo;mypage.php&rsquo;, &lsquo;Your Custom Page Name&rsquo;); $ca-&gt;initPage(); //$ca-&gt;requireLogin(); // Uncomment this line to require a login to access this page // To assign variables to the template system use the following syntax.

			<hr>
			
			<a href="//developers.whmcs.com/advanced/db-interaction/" title="Interacting with the Database">
				<h2>Interacting with the Database</h2>
			</a>

			<br>
			WHMCS 6.0 and later leverages a database connection library to ensure compatibility with modern PHP environments and best practices. It is based on the Laravel framework&rsquo;s database component. This library includes a Database Abstraction Layer (DBAL) called &ldquo;Capsule&rdquo; and an Object Relational Mapping (ORM) library called &ldquo;Eloquent&rdquo;.
The Capsule DBAL component introduces two libraries to WHMCS, a query manager for running database queries and a schema manager for an abstracted API to table management.

			<hr>
			
			<a href="//developers.whmcs.com/advanced/date-functions/" title="Date Functions">
				<h2>Date Functions</h2>
			</a>

			<br>
			The following date helper functions are made available to make it easier to work with dates in WHMCS.
Todays Date /** * Returns todays date * * By default returns the format defined in General Settings &gt; Localisation &gt; Date Format * * @param bool $applyClientDateFormat Set true to apply Localisation &gt; Client Date Format * * @return string */ $todaysdate = getTodaysDate($applyClientDateFormat);  From MySQL Date /** * Formats a MySQL Date/Timestamp value to system settings * * @param string $datetimestamp The MySQL Date/Timestamp value * @param bool $includeTime Pass true to include the time in the result * @param bool $applyClientDateFormat Set true to apply Localisation &gt; Client Date Format * * @return string */ $date = fromMySQLDate($date, $includeTime, $applyClientDateFormat);  To MySQL Date /** * Converts a date entered in the system setting format to a MySQL Date/Timestamp * * @param string $userInputDate * * @return string Format: 2016-12-30 23:59:59 */ $date = toMySQLDate($date);

			<hr>
			
			<a href="//developers.whmcs.com/advanced/currency-formatting/" title="Currency Formatting">
				<h2>Currency Formatting</h2>
			</a>

			<br>
			The following helper functions are provided for formatting currency values.
Get Clients Currency /** * Get clients currency * * Required before making a call to formatCurrency * * @param int $userId * * @return array */ $currencyData = getCurrency($userId);  Format Currency /** * Format currency * * @param float $amount * @param mixed $currencyData * * @return \WHMCS\View\Formatter\Price */ $price = formatCurrency($amount, $currencyData);  The $price value returned will be an object.

			<hr>
			
			<a href="//developers.whmcs.com/advanced/logging/" title="Logging">
				<h2>Logging</h2>
			</a>

			<br>
			The following logging helper methods are made available in WHMCS.
Log Activity A helper method is available for adding entries to the activity log.
This function is available to all hooks, modules and template files throughout the WHMCS system.
/** * Log activity. * * @param string $message The message to log * @param int $userId An optional user id to which the log entry relates */ logActivity(&lsquo;Message goes here&rsquo;, 0);  Log Module Call We recommend making use of the module log to record all external API calls and requests.

			<hr>
			

			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

      </div>
    </div>
  </div>

</main>


<footer class="footer">
    <div class="container">
        <div class="row">
            <nav>
                <div class="col-sm-3">
                    <h3>Learn</h3>
                    <ul>
                        <li><a href="//developers.whmcs.com/about/">About WHMCS</a></li>
                        <li><a href="//developers.whmcs.com/quick-start/">Quick start</a></li>
                        <li><a href="//developers.whmcs.com/api-reference/">API Reference</a></li>
                        <li><a href="//docs.whmcs.com/classes/">Classes Reference</a></li>
                        <li><a href="//developers.whmcs.com/about/faq/">FAQ</a></li>
                    </ul>
                </div>
                <div class="col-sm-4">
                    <h3>Contribute</h3>
                    <ul>
                        <li><a href="//developers.whmcs.com/about/contribute/">Contribute</a></li>
                        <li><a href="https://github.com/whmcs/" target="_blank">Github</a></li>
                    </ul>
                </div>
                <div class="col-sm-5">
                    <h3>Stay up to date</h3>
                    <div class="subscribe-form">
                        <p class="muted subscribe-lead">Join our developers mailing list to be kept up-to-date.</p>
                        <div class="alert alert-success sub-success-message hidden" role="alert">
                            <strong>Thank You!</strong> You have been subscribed.
                        </div>
                        <div class="alert alert-danger sub-error-message hidden" role="alert">
                            <strong>Sorry</strong> <span id="error-message-text"></span>
                        </div>
                        <form action="//www.whmcs.com/members/subscribe.php" method="post" id="frmSubscribe">
                            <input type="hidden" name="name" value="Subscriber">
                            <input type="hidden" name="developer" value="dev">
                            <div class="input-group">
                                <input type="email" name="email" class="form-control" placeholder="you@yourdomain.com">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-info">
                                        SUBSCRIBE
                                    </button>
                                </span>
                            </div>
                        </form>
                    </div>
                    <p>
                        We won't spam you.
                    </p>
                </div>
            </nav>
        </div>
        <div class="row">
            <div class="col-md-7">
                <p>Found an error or a typo in these docs? <a href="https://github.com/WHMCS/developer-docs/issues">Submit an issue or a pull request</a></p>
            </div>
            <div class="col-md-5">
                <p class="pull-right">
                    Copyright &copy; WHMCS 2017. All rights reserved.
                    <br>
                </p>
            </div>
        </div>
    </div>
</footer>

<div style="width:0px;overflow:hidden;height:0px;">
    <gcse:search noResultsString="No matches found. Please try a different search term or try contacting our support team."></gcse:search>
</div>

<script src="//developers.whmcs.com/js/jquery.min.js"></script>
<script src="//developers.whmcs.com/js/bootstrap.min.js"></script>
<script src="//developers.whmcs.com/js/search.js"></script>
<script src="//developers.whmcs.com/js/prism.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-22019969-15', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>

