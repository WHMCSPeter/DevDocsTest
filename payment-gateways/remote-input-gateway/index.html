<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Remote Input Token Storage - WHMCS Developer Documentation</title>
    <meta name="generator" content="Hugo 0.17" />

    
    <meta name="description" content="WHMCS developer documentation - themes, modules, hooks, oauth, api and more...">
    
    <link rel="canonical" href="//developers.whmcs.com/payment-gateways/remote-input-gateway/">
    
    <meta name="author" content="WHMCS Development Team">
    

    <link rel="stylesheet" href="//developers.whmcs.com/css/bootstrap.min.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/styles.css?v=3">
    <link rel="stylesheet" href="//developers.whmcs.com/css/font-awesome.min.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/prism.css">

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700">

    

  </head>
  <body class="language-php">

<header class="header">





<div class="container">
<nav class="navbar navbar-whmcs">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#primary-nav" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://www.whmcs.com/"><img src="//developers.whmcs.com/img/logo.png" width="148" height="34"></a>
    </div>

    <div class="collapse navbar-collapse" id="primary-nav">
      <ul class="nav navbar-nav">
        <li><a href="//developers.whmcs.com/"><span class="hidden-sm">Developer Documentation</span><span class="visible-sm">Developer Docs</span></a></li>
        <li class="visible-xs"><a href="//developers.whmcs.com/">Home</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/themes/">Themes</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/languages/">Languages</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/modules/">Modules</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/oauth/">OAuth</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/hooks/">Hooks</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/api/">API</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/advanced/">Advanced</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="//developers.whmcs.com/api-reference/">API Reference</a></li>
        <li><a href="//developers.whmcs.com/hooks-reference/">Hook Reference</a></li>
        <li><a href="https://github.com/whmcs" target="_blank"><i class="fa fa-github"></i></a></li>
      </ul>
      <form class="navbar-form navbar-right visible-xs" id="docsSearchMobile">
        <div class="aa-input-container" id="aa-input-container">
            <input type="search" id="inputSearchMobile" class="aa-input-search" placeholder="Search documentation" name="search" autocomplete="off" />
            <svg class="aa-input-icon" viewBox="654 -372 1664 1664">
                <path d="M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5  C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5  C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342  c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332  s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225  S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z" />
            </svg>
        </div>
      </form>
    </div>
  </div>
</nav>
</div>

<div class="headline-bar hidden-xs">
<nav class="navbar navbar-main-nav">
  <div class="container">
    <div class="collapse navbar-collapse" id="secondary-nav">
      <ul class="nav navbar-nav">
        <li><a href="//developers.whmcs.com/">Home</a></li>
            <li><a href="//developers.whmcs.com/themes/">Themes</a></li>
            <li><a href="//developers.whmcs.com/languages/">Languages</a></li>
            <li><a href="//developers.whmcs.com/modules/">Modules</a></li>
            <li><a href="//developers.whmcs.com/oauth/">OAuth</a></li>
            <li><a href="//developers.whmcs.com/hooks/">Hooks</a></li>
            <li><a href="//developers.whmcs.com/api/">API</a></li>
            <li><a href="//developers.whmcs.com/advanced/">Advanced</a></li>
      </ul>
      <form class="navbar-form navbar-right" id="docsSearch">
        <div class="aa-input-container" id="aa-input-container">
            <input type="search" id="inputSearch" class="aa-input-search" placeholder="Search documentation" name="search" autocomplete="off" />
            <svg class="aa-input-icon" viewBox="654 -372 1664 1664">
                <path d="M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5  C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5  C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342  c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332  s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225  S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z" />
            </svg>
        </div>
      </form>
    </div>
  </div>
</nav>
</div>

</header>


<main class="main">

  <div class="container">
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-sm-3 sidebar-offcanvas">

        
          <ul class="sidebar-nav">
            
  <li class="active parent" data-nav-id="/payment-gateways/">
    <a href="//developers.whmcs.com/payment-gateways/">
      <span>
        
          <i class='fa fa-money fa-fw'></i>
        
         Payment Gateways
       </span>
    </a>
    
    <ul>
      
      
      
      
        <li class="" data-nav-id="/payment-gateways/getting-started/">
          <a href="//developers.whmcs.com/payment-gateways/getting-started/">
            <span>Getting Started</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/meta-data-params/">
          <a href="//developers.whmcs.com/payment-gateways/meta-data-params/">
            <span>Meta Data Parameters</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/configuration/">
          <a href="//developers.whmcs.com/payment-gateways/configuration/">
            <span>Configuration</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/third-party-gateway/">
          <a href="//developers.whmcs.com/payment-gateways/third-party-gateway/">
            <span>Third Party Gateway</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/subscription-management/">
          <a href="//developers.whmcs.com/payment-gateways/subscription-management/">
            <span>Subscription Management</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/merchant-gateway/">
          <a href="//developers.whmcs.com/payment-gateways/merchant-gateway/">
            <span>Merchant Gateway</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/displaying-balances/">
          <a href="//developers.whmcs.com/payment-gateways/displaying-balances/">
            <span>Displaying Balances</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/transaction-information/">
          <a href="//developers.whmcs.com/payment-gateways/transaction-information/">
            <span>Transaction Information</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/callbacks/">
          <a href="//developers.whmcs.com/payment-gateways/callbacks/">
            <span>Callback Files</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/refunds/">
          <a href="//developers.whmcs.com/payment-gateways/refunds/">
            <span>Refunds</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/reversals/">
          <a href="//developers.whmcs.com/payment-gateways/reversals/">
            <span>Payment Reversals</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/3d-secure/">
          <a href="//developers.whmcs.com/payment-gateways/3d-secure/">
            <span>3D Secure Process</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/tokenised-remote-storage/">
          <a href="//developers.whmcs.com/payment-gateways/tokenised-remote-storage/">
            <span>Tokenised Remote Storage</span>
          </a>
        </li>
      
      
      
        <li class="active" data-nav-id="/payment-gateways/remote-input-gateway/">
          <a href="//developers.whmcs.com/payment-gateways/remote-input-gateway/">
            <span>Remote Input Token Storage</span>
          </a>
        </li>
      
      
      
        <li class="" data-nav-id="/payment-gateways/installation-activation/">
          <a href="//developers.whmcs.com/payment-gateways/installation-activation/">
            <span>Installation &amp; Activation</span>
          </a>
        </li>
      
      
    </ul>
    
  </li>


          </ul>
        

      </div>
      <div class="col-sm-9">

        <div class="breadcrumb-nav">

            <div class="pull-right">
              <a class="suggest-an-edit" href="https://github.com/WHMCS/developer-docs" target="blank">
                <i class="fa fa-code-fork"></i>
                <span class="hidden-xs">Suggest an edit</span>
              </a>
            </div>

            <div class="visible-xs pull-left">
                <button type="button" class="btn btn-toggle-sidebar" data-toggle="offcanvas">
                    <i class="fa fa-list-alt"></i>
                </button>
            </div>

            <div id="breadcrumbs">
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                    
                <a href="//developers.whmcs.com/payment-gateways/" itemprop="url"><span itemprop="title">Payment Gateways</span></a> <i class="fa fa-angle-right"></i>
                    
                  
                
                  
                
                  
                
                <span itemprop="title"> Remote Input Token Storage</span>
              </div>
            </div>


			<h1>Remote Input Token Storage </h1>

			

<p>A remote input module is a type of merchant gateway that accepts input of pay
method data remotely within an iFrame so that it appears transparent to the end
user, and then exchanges it for a token that is returned back to WHMCS to be
stored for future billing attempts.</p>

<p>Within WHMCS, sensitive payment data such as a card number is not stored
locally when a remote input module is used.</p>

<h2 id="creating-a-remote-input-gateway">Creating a Remote Input Gateway</h2>

<p>A remote input gateway requires two functions to be implemented in addition to the standard <code>capture</code>.
These functions are <code>remoteinput</code> and <code>remoteupdate</code>.</p>

<p>Once processed, a notification will be sent to a <a href="//developers.whmcs.com/payment-gateways/callbacks" title="Callback Files">callback file</a> where the Pay Method should be stored and the payment applied.</p>

<p>For a more complete example, please refer to the <a href="https://github.com/WHMCS/sample-remote-input-gateway" title="Sample Remote Input Gateway module on Github">Sample Remote Input Gateway module on Github</a>.</p>

<h2 id="remote-input">Remote Input</h2>

<p>The <code>remoteinput</code> function will be called when adding a new payment method as part of checkout,
or when adding a new payment method outside of the checkout process.</p>

<p>The remote input function is required to return an HTML form that will be automatically submitted into an iframe target.
The page rendered within the iframe should allow the user to enter card details in one of 2 workflow scenarios:</p>

<ul>
<li>Making payment using a new card - in this workflow the remote endpoint should allow the user to enter card details, generate a token, and capture payment for the requested amount</li>
<li>Adding a new card to the users account - in this workflow the remote endpoint should allow the user to enter card details and generate a token, but not perform any immediate capture</li>
</ul>

<p>The workflow type can be determined based on if an invoiceid and amount parameter is received as part of the parameters passed to the <code>remoteinput</code> function.</p>

<h3 id="example">Example</h3>

<pre><code>function yourmodulename_remoteinput($params)
{
    return '&lt;form method=&quot;post&quot; action=&quot;https://www.example.com/remote/input&quot;&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;api_user&quot; value=&quot;' . $params[&quot;api_user&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;api_secret&quot; value=&quot;' . $params[&quot;api_secret&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;amount&quot; value=&quot;' . $params[&quot;amount&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;invoice_id&quot; value=&quot;' . $params[&quot;invoiceid&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;firstname&quot; value=&quot;' . $params[&quot;clientdetails&quot;][&quot;firstname&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;lastname&quot; value=&quot;' . $params[&quot;clientdetails&quot;][&quot;lastname&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;address1&quot; value=&quot;' . $params[&quot;clientdetails&quot;][&quot;address1&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;city&quot; value=&quot;' . $params[&quot;clientdetails&quot;][&quot;city&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;state&quot; value=&quot;' . $params[&quot;clientdetails&quot;][&quot;state&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;postcode&quot; value=&quot;' . $params[&quot;clientdetails&quot;][&quot;postcode&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;country&quot; value=&quot;' . $params[&quot;clientdetails&quot;][&quot;country&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;phonenumber&quot; value=&quot;' . $params[&quot;clientdetails&quot;][&quot;phonenumber&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;email&quot; value=&quot;' . $params[&quot;clientdetails&quot;][&quot;email&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;cust_id&quot; value=&quot;' . $params[&quot;clientdetails&quot;][&quot;id&quot;] . '&quot; /&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;return_url&quot; value=&quot;' . $params['systemurl'] . 'modules/gateways/callback/yourmodulename.php&quot; /&gt;
    &lt;noscript&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Click here to continue &amp;raquo;&quot; /&gt;
    &lt;/noscript&gt;
&lt;/form&gt;';
}
</code></pre>

<h2 id="remote-update">Remote Update</h2>

<p>The <code>remoteupdate</code> function will be called when a pay method is requested to be modified and should allow the user to edit the data of on an existing token.</p>

<p>The expected return of this function is direct HTML output. It provides
more flexibility than the remote input function by not restricting the
return to a form that is posted into an iframe. We still recommend using
an iframe where possible, but the update can sometimes be handled by
way of a modal, popup or other such facility.</p>

<h3 id="example-1">Example</h3>

<pre><code>function yourmodulename_remoteupdate($params)
{
    $formAction = 'https://www.example.com/remote/update';
    $formFields = [
        'api_user' =&gt; $params['api_user'],
        'api_secret' =&gt; $params['api_secret'],
        'token' =&gt; $params['gatewayid'],
        'custom_reference' =&gt; $params['paymethodid'],
    ];

    $formOutput = '';
    foreach ($formFields as $key =&gt; $value) {
        $formOutput .= '&lt;input type=&quot;hidden&quot; name=&quot;' . $key . '&quot; value=&quot;' . $value . '&quot;&gt;' . PHP_EOL;
    }
    
    return '&lt;div id=&quot;frmRemoteCardProcess&quot; class=&quot;text-center&quot;&gt;
    &lt;form method=&quot;post&quot; action=&quot;' . $formAction . '&quot; target=&quot;remoteUpdateIFrame&quot;&gt;
        ' . $formOutput . '
        &lt;noscript&gt;
            &lt;input type=&quot;submit&quot; value=&quot;Click here to continue &amp;raquo;&quot;&gt;
        &lt;/noscript&gt;
    &lt;/form&gt;
    &lt;iframe name=&quot;remoteUpdateIFrame&quot; class=&quot;auth3d-area&quot; width=&quot;90%&quot; height=&quot;600&quot; scrolling=&quot;auto&quot; src=&quot;http://about:blank&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;script&gt;
    setTimeout(&quot;autoSubmitFormByContainer(\'frmRemoteCardProcess\')&quot;, 1000);
&lt;/script&gt;';
}
</code></pre>

<h3 id="disallowing-remote-update-example">Disallowing Remote Update Example</h3>

<p>In some circumstances, it may be appropriate to disallow remote updates for Pay Methods.</p>

<p>To achieve this, you can return an alert to be displayed in place of a form:</p>

<pre><code>function yourmodulename_remoteupdate($params)
{
    return &lt;&lt;&lt;HTML
&lt;div class=&quot;alert alert-info text-center&quot;&gt;
    Updating your card is not possible. Please create a new Pay Method to make changes.
&lt;/div&gt;
HTML;
}
</code></pre>

<h2 id="helper-functions">Helper Functions</h2>

<p>The following functions are available in WHMCS 7.9 and later. We recommend using these functions
within the callback handler of a remote input gateway to create a new pay method or update an existing one.
Both functions return a boolean <code>true</code> on a success, and any error will throw an exception that
should be caught and logged.</p>

<h3 id="createcardpaymethod">createCardPayMethod</h3>

<p>This function can be used to add a new pay method to a client account</p>

<h4 id="parameters">Parameters</h4>

<table>
<thead>
<tr>
<th>Variable</th>
<th>Type</th>
<th>Notes</th>
</tr>
</thead>

<tbody>
<tr>
<td>clientId</td>
<td>int</td>
<td>The id of the client for the new pay method</td>
</tr>

<tr>
<td>gatewayName</td>
<td>string</td>
<td>The name of the module adding the pay method</td>
</tr>

<tr>
<td>cardNumber</td>
<td>string</td>
<td>The card number (or last 4 digits). Full card number will not be stored for remote pay methods</td>
</tr>

<tr>
<td>cardExpiryDate</td>
<td>string</td>
<td>Card expiry date in mmyy format</td>
</tr>

<tr>
<td>cardType</td>
<td>null or string</td>
<td>The card type to use. Null will attempt to get card type from card number</td>
</tr>

<tr>
<td>cardStartDate</td>
<td>null or string</td>
<td>Optional. Card start date in mmyy format</td>
</tr>

<tr>
<td>cardIssueNumber</td>
<td>null or string</td>
<td>Optional. The issue number for the card</td>
</tr>

<tr>
<td>remoteToken</td>
<td>string</td>
<td>Required for a remote pay method. The remote token for a remote pay method.</td>
</tr>

<tr>
<td>billingContactId</td>
<td>string or integer</td>
<td>Optional. The id of the billing contact to use. Defaults to &lsquo;billing&rsquo;</td>
</tr>

<tr>
<td>description</td>
<td>string</td>
<td>The description for the new pay method</td>
</tr>
</tbody>
</table>

<h4 id="return">Return</h4>

<p>Boolean return <code>true</code> on successful creation of a pay method.</p>

<h4 id="error">Error</h4>

<p>When an error occurs in the function call, an exception will be thrown with an appropriate message.
The most common messages are detailed below, other exceptions could be thrown and need to be caught.</p>

<table>
<thead>
<tr>
<th>Exception</th>
<th>Message</th>
<th>Notes</th>
</tr>
</thead>

<tbody>
<tr>
<td>Exception</td>
<td>Client ID not found</td>
<td>Check the client id. The client id passed has not been found</td>
</tr>

<tr>
<td>Exception</td>
<td>Module Not Found</td>
<td>Check the gateway module name. The module name passed has not been found</td>
</tr>

<tr>
<td>Exception</td>
<td>Module Not Activated</td>
<td>The gateway module passed is not currently active</td>
</tr>

<tr>
<td>RuntimeException</td>
<td>Card number is required</td>
<td>The card number is required for a local storage gateway</td>
</tr>

<tr>
<td>RuntimeException</td>
<td>Card number must be at least 13 chars</td>
<td>For a local storage gateway, the card number should be at least 13 characters</td>
</tr>

<tr>
<td>RuntimeException</td>
<td>Card expiry date is required</td>
<td>For a local storage gateway, the card expiry date is required</td>
</tr>

<tr>
<td>InvalidArgumentException</td>
<td>Invalid Workflow Type for PayMethod</td>
<td>Only credit cards can be added using this function</td>
</tr>
</tbody>
</table>

<h3 id="updatecardpaymethod">updateCardPayMethod</h3>

<p>This function can be used to update an existing pay method for a client.</p>

<h4 id="parameters-1">Parameters</h4>

<table>
<thead>
<tr>
<th>Variable</th>
<th>Type</th>
<th>Notes</th>
</tr>
</thead>

<tbody>
<tr>
<td>clientId</td>
<td>int</td>
<td>The id of the client that the pay method belongs to</td>
</tr>

<tr>
<td>payMethodId</td>
<td>int</td>
<td>The id of the pay method to be updated</td>
</tr>

<tr>
<td>cardExpiryDate</td>
<td>string</td>
<td>Card expiry date in mmyy format</td>
</tr>

<tr>
<td>cardStartDate</td>
<td>null or string</td>
<td>Optional. Card start date in mmyy format</td>
</tr>

<tr>
<td>cardIssueNumber</td>
<td>null or string</td>
<td>Optional. The issue number for the card</td>
</tr>

<tr>
<td>remoteToken</td>
<td>string</td>
<td>Required for a remote pay method. The remote token for a remote pay method.</td>
</tr>
</tbody>
</table>

<h4 id="return-1">Return</h4>

<p>Boolean return <code>true</code> on successful creation of a pay method.</p>

<h4 id="error-1">Error</h4>

<p>When an error occurs in the function call, an exception will be thrown with an appropriate message.
The most common messages are detailed below, other exceptions could be thrown and need to be caught.</p>

<table>
<thead>
<tr>
<th>Exception</th>
<th>Message</th>
<th>Notes</th>
</tr>
</thead>

<tbody>
<tr>
<td>Exception</td>
<td>Client ID not found</td>
<td>Check the client id. The client id passed has not been found</td>
</tr>

<tr>
<td>Exception</td>
<td>PayMethod ID not found</td>
<td>Check the pay method id. The pay method id passed has not been found</td>
</tr>

<tr>
<td>InvalidArgumentException</td>
<td>Invalid PayMethod</td>
<td>The pay method being updated is not a credit card</td>
</tr>

<tr>
<td>RuntimeException</td>
<td>Card expiry date is required</td>
<td>For a local storage gateway, the card expiry date is required</td>
</tr>
</tbody>
</table>


			<div class="topic-navigation clearfix">
                
                    <a class="nav nav-prev" href="//developers.whmcs.com/payment-gateways/tokenised-remote-storage">
                        <i class="fa fa-arrow-circle-left"></i>
                        Previous
                    </a>
                
                
                    <a class="nav nav-next" href="//developers.whmcs.com/payment-gateways/installation-activation">
                        <i class="fa fa-arrow-circle-right"></i>
                        Next
                    </a>
                
            </div>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>

        </div>
  </div>
</div>
</main>


<footer class="footer">
    <div class="container">
        <div class="row">
            <nav>
                <div class="col-sm-3">
                    <h3>Learn</h3>
                    <ul>
                        <li><a href="//developers.whmcs.com/about/">About WHMCS</a></li>
                        <li><a href="//developers.whmcs.com/about/quick-start/">Quick start</a></li>
                        <li><a href="//developers.whmcs.com/api-reference/">API Reference</a></li>
                        <li><a href="https://docs.whmcs.com/classes/">Classes Reference</a></li>
                        <li><a href="//developers.whmcs.com/about/faq/">FAQ</a></li>
                    </ul>
                </div>
                <div class="col-sm-4">
                    <h3>Contribute</h3>
                    <ul>
                        <li><a href="//developers.whmcs.com/about/contribute/">Contribute</a></li>
                        <li><a href="https://github.com/whmcs/" target="_blank">Github</a></li>
                    </ul>
                </div>
                <div class="col-sm-5">
                    <h3>Stay up to date</h3>
                    <div class="subscribe-form">
                        <p class="muted subscribe-lead">Join our developers mailing list to be kept up-to-date.</p>
                        <div class="alert alert-success sub-success-message hidden" role="alert">
                            <strong>Thank You!</strong> You have been subscribed.
                        </div>
                        <div class="alert alert-danger sub-error-message hidden" role="alert">
                            <strong>Sorry</strong> <span id="error-message-text"></span>
                        </div>
                        <form action="//www.whmcs.com/members/subscribe.php" method="post" id="frmSubscribe">
                            <input type="hidden" name="name" value="Subscriber">
                            <input type="hidden" name="developer" value="dev">
                            <div class="input-group">
                                <input type="email" name="email" class="form-control" placeholder="you@yourdomain.com">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-info">
                                        SUBSCRIBE
                                    </button>
                                </span>
                            </div>
                        </form>
                    </div>
                    <p>
                        We won't spam you.
                    </p>
                </div>
            </nav>
        </div>
        <div class="row">
            <div class="col-md-7">
                <p>Found an error or a typo in these docs? <a href="https://github.com/WHMCS/developer-docs/issues">Submit an issue or a pull request</a></p>
            </div>
            <div class="col-md-5">
                <p class="pull-right">
                    Copyright &copy; WHMCS 2021. All rights reserved.
                    <br>
                </p>
            </div>
        </div>
    </div>
</footer>

<script src="//developers.whmcs.com/js/jquery.min.js"></script>
<script src="//developers.whmcs.com/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script>
<script src="//developers.whmcs.com/js/search.js?v=2"></script>
<script src="//developers.whmcs.com/js/prism.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-22019969-15', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>

