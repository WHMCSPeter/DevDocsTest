<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Payment-gateways - WHMCS Developer Documentation</title>
    <meta name="generator" content="Hugo 0.18.1" />

    
    <meta name="description" content="WHMCS developer documentation - themes, modules, hooks, oauth, api and more...">
    
    <link rel="canonical" href="//developers.whmcs.com/payment-gateways/">
    
    <meta name="author" content="WHMCS Development Team">
    

    <link rel="stylesheet" href="//developers.whmcs.com/css/bootstrap.min.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/styles.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/font-awesome.min.css">
    <link rel="stylesheet" href="//developers.whmcs.com/css/prism.css">

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700">

    
    <link href="//developers.whmcs.com/payment-gateways/index.xml" rel="alternate" type="application/rss+xml" title="WHMCS Developer Documentation" />
    <link href="//developers.whmcs.com/payment-gateways/index.xml" rel="feed" type="application/rss+xml" title="WHMCS Developer Documentation" />
    

  </head>
  <body class="language-php">

<header class="header">





<div class="container">
<nav class="navbar navbar-whmcs">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#primary-nav" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://www.whmcs.com/"><img src="//developers.whmcs.com/img/logo.png" width="148" height="34"></a>
    </div>

    <div class="collapse navbar-collapse" id="primary-nav">
      <ul class="nav navbar-nav">
        <li><a href="//developers.whmcs.com/"><span class="hidden-sm">Developer Documentation</span><span class="visible-sm">Developer Docs</span></a></li>
        <li class="visible-xs"><a href="//developers.whmcs.com/">Home</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/themes/">Themes</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/languages/">Languages</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/modules/">Modules</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/oauth/">OAuth</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/hooks/">Hooks</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/api/">API</a></li>
            <li class="visible-xs"><a href="//developers.whmcs.com/advanced/">Advanced</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="//developers.whmcs.com/api-reference/">API Reference</a></li>
        <li><a href="//developers.whmcs.com/hooks-reference/">Hook Reference</a></li>
        <li><a href="https://github.com/whmcs" target="_blank"><i class="fa fa-github"></i></a></li>
      </ul>
      <form class="navbar-form navbar-right visible-xs" id="docsSearchMobile">
        <div class="input-group">
          <input type="text" id="docsQueryMobile" class="form-control" placeholder="Search">
          <span class="input-group-btn">
            <button class="btn" type="submit" id="btnSearchDocsMobile"><i class="fa fa-search"></i></button>
          </span>
        </div>
      </form>
    </div>
  </div>
</nav>
</div>

<div class="headline-bar hidden-xs">
<nav class="navbar navbar-main-nav">
  <div class="container">
    <div class="collapse navbar-collapse" id="secondary-nav">
      <ul class="nav navbar-nav">
        <li><a href="//developers.whmcs.com/">Home</a></li>
            <li><a href="//developers.whmcs.com/themes/">Themes</a></li>
            <li><a href="//developers.whmcs.com/languages/">Languages</a></li>
            <li><a href="//developers.whmcs.com/modules/">Modules</a></li>
            <li><a href="//developers.whmcs.com/oauth/">OAuth</a></li>
            <li><a href="//developers.whmcs.com/hooks/">Hooks</a></li>
            <li><a href="//developers.whmcs.com/api/">API</a></li>
            <li><a href="//developers.whmcs.com/advanced/">Advanced</a></li>
      </ul>
      <form class="navbar-form navbar-right" id="docsSearch">
        <div class="input-group">
          <input type="text" id="docsQuery" class="form-control" placeholder="Search">
          <span class="input-group-btn">
            <button class="btn" type="submit" id="btnSearchDocs"><i class="fa fa-search"></i></button>
          </span>
        </div>
      </form>
    </div>
  </div>
</nav>
</div>

</header>


<main class="main">

  <div class="container">

	<h1>Pages in Payment-gateway</h1>

	
	<a href="//developers.whmcs.com/payment-gateways/" title="Payment Gateways">
		<h2>Payment Gateways</h2>
	</a>

	<br>
	Creating a gateway module allows connection from WHMCS to providers that aren’t supported in a default installation. There are 2 core types of gateway modules:
 Third Party Gateways – Where a customer leaves the site to pay and returns when the payment process completes. Merchant Gateways – Where a customer enters credit card details in WHMCS. The payment processes in the background. Can also include 3D Secure where the user leaves your site.

	<hr>
	
	<a href="//developers.whmcs.com/payment-gateways/getting-started/" title="Getting Started">
		<h2>Getting Started</h2>
	</a>

	<br>
	Introduction  Gateway modules allow a connection between WHMCS and merchants that aren&rsquo;t supported in WHMCS. This documentation will explain a module&rsquo;s structure and everything needed to create a gateway module for WHMCS.
Getting Started  To get started, begin by downloading the module development kit from our GitHub site. There are two sample modules available, depending upon the type of gateway being developed:
 Third Party Gateway: <a href="https://github.com/WHMCS/sample-gateway-module">https://github.com/WHMCS/sample-gateway-module</a> Merchant Gateway: <a href="https://github">https://github</a>.

	<hr>
	
	<a href="//developers.whmcs.com/payment-gateways/third-party-gateway/" title="Third Party Gateway">
		<h2>Third Party Gateway</h2>
	</a>

	<br>
	Follow the steps below to create a third party gateway module. A module where the customer leaves WHMCS to make the payment. Delete the _capture function before activating the new gateway module in WHMCS.
 Delete the _capture function from the module template. Enter the gateway-specific code for taking the user to the payment process within the _link function. An example of this step is in the gateway module template supplied with the dev kit.

	<hr>
	
	<a href="//developers.whmcs.com/payment-gateways/merchant-gateway/" title="Merchant Gateway">
		<h2>Merchant Gateway</h2>
	</a>

	<br>
	A merchant gateway is where the customer enters their card details via the client area. To create one: Delete the _link function before activating the new module in WHMCS.
 Delete the _link function from the module template. Enter the gateway-specific code for processing the payment into the _capture function. Generally, this takes the format of an HTTP/Curl request to the gateway provider&rsquo;s API.  Variables  Invoice Variables  $params[&lsquo;invoiceid&rsquo;] # Invoice ID Number $params[&lsquo;description&rsquo;] # Description (eg.

	<hr>
	
	<a href="//developers.whmcs.com/payment-gateways/callbacks/" title="Callback Files">
		<h2>Callback Files</h2>
	</a>

	<br>
	If a gateway provider supports notifying when a payment is successful, WHMCS uses a callback file to receive those. A callback will process the response and apply a payment as required. An included sample callback file is in the dev kit for this purpose named callback.php.
 Rename it to match the gateway module. Modify the variables within it, as per the comments in the code. Modify it to match the variables that the specific gateway returns.

	<hr>
	
	<a href="//developers.whmcs.com/payment-gateways/3d-secure/" title="3D Secure Process">
		<h2>3D Secure Process</h2>
	</a>

	<br>
	If the merchant gateway supports 3D Secure (also known as Verified by Visa or MasterCard Secure Code), then it can be utilized within WHMCS.
 Add a function to the module named yourgatewayname_3dsecure Return the HTML for the  post method to take the user to the 3D Secure process. An example of this is below:  The _3dsecure function is passed all the same variables that the _capture function is.

	<hr>
	
	<a href="//developers.whmcs.com/payment-gateways/tokenised-remote-storage/" title="Tokenised Remote Storage">
		<h2>Tokenised Remote Storage</h2>
	</a>

	<br>
	With increasing rules &amp; requirements surrounding the storing of credit card details, merchant gateways are offering services where repeat rebills can be performed without needing to store credit card details. Gateway modules can use this functionality.
The basic logic behind token gateways in WHMCS is that clients must either have a credit card number or a token stored in order for recurring billing. Add a function named _storeremote to the custom gateway module.

	<hr>
	
	<a href="//developers.whmcs.com/payment-gateways/installation-activation/" title="Installation &amp; Activation">
		<h2>Installation &amp; Activation</h2>
	</a>

	<br>
	To install the new module, upload it to the /modules/gateways/ folder. Once uploaded, go to Setup &gt; Payment Gateways to activate. If there is a callback file, that should be uploaded to the /modules/gateways/callback/ folder. Important: It is important that the gateway is not activated until step 1 is complete for either the third party or merchant gateway modules. This is because the type of module created is stored in the database upon activation.

	<hr>
	
	<a href="//developers.whmcs.com/payment-gateways/errors/" title="Blank Screen/Errors">
		<h2>Blank Screen/Errors</h2>
	</a>

	<br>
	If there is a blank page or error within the Setup &gt; Payment Gateways page after uploading the new module file, then there is a syntax error within the new code. To debug the new file, turn on error reporting. Enable this in Setup &gt; General Settings &gt; Other. This enables PHP error reporting and should show the cause of any issues. Once resolved, disable Error Reporting again.

	<hr>
	

  </div>

</main>


<footer class="footer">
    <div class="container">
        <div class="row">
            <nav>
                <div class="col-sm-3">
                    <h3>Learn</h3>
                    <ul>
                        <li><a href="//developers.whmcs.com/about/">About WHMCS</a></li>
                        <li><a href="//developers.whmcs.com/quick-start/">Quick start</a></li>
                        <li><a href="//developers.whmcs.com/api-reference/">API Reference</a></li>
                        <li><a href="//docs.whmcs.com/classes/">Classes Reference</a></li>
                        <li><a href="//developers.whmcs.com/about/faq/">FAQ</a></li>
                    </ul>
                </div>
                <div class="col-sm-4">
                    <h3>Contribute</h3>
                    <ul>
                        <li><a href="//developers.whmcs.com/about/contribute/">Contribute</a></li>
                        <li><a href="https://github.com/whmcs/" target="_blank">Github</a></li>
                    </ul>
                </div>
                <div class="col-sm-5">
                    <h3>Stay up to date</h3>
                    <div class="subscribe-form">
                        <p class="muted subscribe-lead">Join our developers mailing list to be kept up-to-date.</p>
                        <div class="alert alert-success sub-success-message hidden" role="alert">
                            <strong>Thank You!</strong> You have been subscribed.
                        </div>
                        <div class="alert alert-danger sub-error-message hidden" role="alert">
                            <strong>Sorry</strong> <span id="error-message-text"></span>
                        </div>
                        <form action="//www.whmcs.com/members/subscribe.php" method="post" id="frmSubscribe">
                            <input type="hidden" name="name" value="Subscriber">
                            <input type="hidden" name="developer" value="dev">
                            <div class="input-group">
                                <input type="email" name="email" class="form-control" placeholder="you@yourdomain.com">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-info">
                                        SUBSCRIBE
                                    </button>
                                </span>
                            </div>
                        </form>
                    </div>
                    <p>
                        We won't spam you.
                    </p>
                </div>
            </nav>
        </div>
        <div class="row">
            <div class="col-md-7">
                <p>Found an error or a typo in these docs? <a href="https://github.com/WHMCS/developer-docs/issues">Submit an issue or a pull request</a></p>
            </div>
            <div class="col-md-5">
                <p class="pull-right">
                    Copyright &copy; WHMCS 2017. All rights reserved.
                    <br>
                </p>
            </div>
        </div>
    </div>
</footer>

<div style="width:0px;overflow:hidden;height:0px;">
    <gcse:search noResultsString="No matches found. Please try a different search term or try contacting our support team."></gcse:search>
</div>

<script src="//developers.whmcs.com/js/jquery.min.js"></script>
<script src="//developers.whmcs.com/js/bootstrap.min.js"></script>
<script src="//developers.whmcs.com/js/search.js"></script>
<script src="//developers.whmcs.com/js/prism.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-22019969-15', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>

